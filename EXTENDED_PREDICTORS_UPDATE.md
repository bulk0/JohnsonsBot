# üéØ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä—ã –≤ –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

## üìÖ –î–∞—Ç–∞: 9 –æ–∫—Ç—è–±—Ä—è 2025

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `hybrid_imputation()` –≤ `johnson_weights.py`

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –§—É–Ω–∫—Ü–∏—è —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `tuple`: `(imputed_dfs, extended_vars)`
- –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (Missing Value Indicators)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–∫–ª—é—á–∞–µ—Ç: –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ + –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (`var_missing`)

**–ö–æ–¥:**
```python
# –î–æ: hybrid_imputation(data, dep_var, indep_vars) ‚Üí list
# –ü–æ—Å–ª–µ: hybrid_imputation(data, dep_var, indep_vars) ‚Üí tuple(list, list)

extended_vars = independent_vars + [f'{var}_missing' for var in independent_vars]
# –ü—Ä–∏–º–µ—Ä: ['q1', 'q2', 'q3'] ‚Üí ['q1', 'q2', 'q3', 'q1_missing', 'q2_missing', 'q3_missing']
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `calculate_weights()`

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `use_extended_vars` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)
- –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –≤–µ—Å–æ–≤ –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```python
def calculate_weights(data, dep_var, group_info=None, use_extended_vars=None):
    # use_extended_vars: —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –≥–∏–±—Ä–∏–¥–Ω–æ–π –∏–º–ø—É—Ç–∞—Ü–∏–∏

**–î–ª—è –æ–±—â–µ–π –≤—ã–±–æ—Ä–∫–∏ (total):**
```python
# –ë—ã–ª–æ:
hybrid_dfs = hybrid_imputation(full_df_hybrid, dependent_var, independent_vars)
for hybrid_df in hybrid_dfs:
    hybrid_results = calculate_weights(hybrid_df, dependent_var)

# –°—Ç–∞–ª–æ:
hybrid_dfs, extended_vars = hybrid_imputation(full_df_hybrid, dependent_var, independent_vars)
for hybrid_df in hybrid_dfs:
    hybrid_results = calculate_weights(hybrid_df, dependent_var, use_extended_vars=extended_vars)
```

**–î–ª—è –ø–æ–¥–≥—Ä—É–ø–ø (subgroups):**
```python
# –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø–µ—Ä–µ–¥–∞—á–µ–π subgroup_info
hybrid_results = calculate_weights(hybrid_df, dependent_var, subgroup_info, use_extended_vars=extended_vars)
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –í–µ—Å–∞ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –¥–ª—è –í–°–ï–• –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ + –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `extended_vars` –≤–º–µ—Å—Ç–æ `independent_vars` –ø—Ä–∏ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏–∏

```python
# –°–æ–±–∏—Ä–∞–µ–º –≤–µ—Å–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
for var in extended_vars:  # –≤–º–µ—Å—Ç–æ independent_vars
    if var in hybrid_weights and hybrid_weights[var]:
        avg_results[f'Weight_{var}'] = np.mean(hybrid_weights[var])
        avg_results[f'Percentage_{var}'] = np.mean(hybrid_percentages[var])
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–§–∞–π–ª: `Multiple Imputations Readme.txt`**

–î–æ–±–∞–≤–ª–µ–Ω–æ:
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä–æ–≤
- –ü—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø—Ä–æ–ø—É—Å–∫–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å 4 —ç—Ç–∞–ø–∞–º–∏
- –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã –ø–æ–¥—Ö–æ–¥–∞
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üîç –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä—ã?

–î–ª—è –∫–∞–∂–¥–æ–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–æ–∑–¥–∞–µ—Ç—Å—è **–¥–≤–∞ –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä–∞**:
1. **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è** (—Å –∏–º–ø—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)
2. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–ø—É—Å–∫–∞** (–±–∏–Ω–∞—Ä–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: 1 = –±—ã–ª–æ –ø—Ä–æ–ø—É—â–µ–Ω–æ, 0 = –±—ã–ª–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)

**–ü—Ä–∏–º–µ—Ä:**
```
–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: q1 = [5, NaN, 7, 4, NaN]

–ü–æ—Å–ª–µ –∏–º–ø—É—Ç–∞—Ü–∏–∏:
q1 = [5, 5.5, 7, 4, 5.5]  # –∏–º–ø—É—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
q1_missing = [0, 1, 0, 0, 1]  # –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–ø—É—Å–∫–æ–≤
```

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞—Ç—Ç–µ—Ä–Ω–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤** - —Å–∞–º —Ñ–∞–∫—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ—Ç–≤–µ—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∞–∂–µ–Ω
2. **–í—ã—è–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–ø—É—Å–∫–æ–≤** - –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ª—é–¥–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ —á–∞—â–µ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç –≤–æ–ø—Ä–æ—Å—ã
3. **–£—á–µ—Ç MNAR (Missing Not At Random)** - –∫–æ–≥–¥–∞ –ø—Ä–æ–ø—É—Å–∫–∏ –Ω–µ —Å–ª—É—á–∞–π–Ω—ã

## üìä –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä–æ–≤

- **–î–æ:** 5 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Üí 5 –≤–µ—Å–æ–≤
- **–ü–æ—Å–ª–µ:** 5 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Üí 10 –≤–µ—Å–æ–≤ (5 –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö + 5 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤)

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤

–í–µ—Å–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

**–ë–µ–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:**
```
q1: 14%, q2: 20%, q3: 22%, q4: 21%, q5: 22%
```

**–° –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏:**
```
q1: 4%,  q1_missing: 2%
q2: 14%, q2_missing: 6%
q3: 32%, q3_missing: 1%
q4: 22%, q4_missing: 5%
q5: 28%, q5_missing: 8%
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python (py_compile)
- ‚úÖ –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è bot.py –∏ weights_handler.py
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä (read_lints) - –æ—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- ‚úÖ MICE –ø–æ–¥—Ö–æ–¥ - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ Simple imputation - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã —Ä–∞—Å—á–µ—Ç–∞ - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –¢–æ–ª—å–∫–æ –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä—ã

## üéì –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ö–∞–∫ —á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏:

**–í—ã—Å–æ–∫–∏–π –≤–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π + –Ω–∏–∑–∫–∏–π –≤–µ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:**
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–∞–∂–Ω–æ
- –§–∞–∫—Ç –ø—Ä–æ–ø—É—Å–∫–∞ –Ω–µ –≤–ª–∏—è–µ—Ç
- –ü—Ä–∏–º–µ—Ä: `q3: 32%, q3_missing: 1%`

**–í—ã—Å–æ–∫–∏–π –≤–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π + –≤—ã—Å–æ–∫–∏–π –≤–µ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:**
- –ò –∑–Ω–∞—á–µ–Ω–∏–µ, –ò —Ñ–∞–∫—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –≤–∞–∂–Ω—ã
- –ü–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–ø—É—Å–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–µ–Ω
- –ü—Ä–∏–º–µ—Ä: `q5: 28%, q5_missing: 8%`

**–ù–∏–∑–∫–∏–π –≤–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π + –Ω–∏–∑–∫–∏–π –≤–µ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –º–∞–ª–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ü—Ä–∏–º–µ—Ä: `q1: 4%, q1_missing: 2%`

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä—ã –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.

**–í –≤—ã—Ö–æ–¥–Ω–æ–º Excel-—Ñ–∞–π–ª–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**
```
Imputation Method | Dependent Variable | Weight_q1 | Percentage_q1 | Weight_q1_missing | Percentage_q1_missing | ...
------------------|--------------------|-----------| --------------|--------------------|------------------------|----
Hybrid            | satisfaction       | 0.023     | 4%            | 0.012              | 2%                     | ...
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
2. –°—Ä–∞–≤–Ω–∏—Ç–µ –≤–µ—Å–∞ –º–µ–∂–¥—É MICE, Hybrid –∏ Simple –ø–æ–¥—Ö–æ–¥–∞–º–∏
3. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –≤–µ—Å–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ - –æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–µ–Ω —Å–∞–º —Ñ–∞–∫—Ç –ø—Ä–æ–ø—É—Å–∫–∞
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª "–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è" –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –∏–º–ø—É—Ç–∞—Ü–∏–∏ —Å–º. –≤ `Multiple Imputations Readme.txt`

